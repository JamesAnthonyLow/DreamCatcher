<h1 class="center">Searching for "<%= @query %>"</h1>

<% if @dreams.empty? && @dreamers.empty? %>
  <hr>
  <p>There are no results for your search.<br>
    Your query might be too specific.</p>
<% else %>
  <div class="search">
    <% if !@dreams.empty? %>
      <h3 class="left search">Dreams</h3>
      <hr>
      <ul>
        <% @dreams.each do |dream| %>
          <li>
            <div class="left">
              <%= link_to dream.title, dream_path(dream) %>
            </div>
            <sub class="right">posted <%= dream.timestamp %></sub>
            <p><%= dream.story %></p>
          </li>
        <% end %>
    <% end %>

      <% if !@dreamers.empty? %>
        <h3 class="left">Dreamers</h3>
        <hr>
          <% @dreamers.each do |dreamer| %>
            <li><%= link_to dreamer.username, profile_path(dreamer) %></li>
          <% end %>
      <% end %>

      <% if !@recipes.empty? %>
        <h3 class="left">Recipes</h3>
        <hr>
          <% @recipes.each do |recipe| %>
            <li><%= link_to recipe.step.description, root_path %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
<% end %>